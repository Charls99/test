# Install flask on EC2 
# Either add "sudo" before all commands or use "sudo su" first

#!/bin/bash
yum update -y
yum install git -y
git clone https://github.com/Charls99/test.git
cd test
pip3 install flask
pip3 install pymysql
pip3 install boto3
python3 EmpApp.py


**extra https://www.thegeeksearch.com/setup-flask-with-apache-and-wsgi/
(apache2)
yum install httpd -y 2
systemctl start httpd.service
systemctl enable httpd.service
https://dev.to/sm0ke/flask-deploy-with-apache-on-centos-minimal-setup-2kb7
(wsgi)
yum install mod_wsgi
systemctl restart httpd
pip3 install virtualenv


CREATE TABLE `employee` (
	`fname` VARCHAR(50) NULL DEFAULT NULL COLLATE 'utf8mb4_0900_ai_ci',
	`lname` VARCHAR(50) NULL DEFAULT NULL COLLATE 'utf8mb4_0900_ai_ci',
	`eid` VARCHAR(50) NULL DEFAULT NULL COLLATE 'utf8mb4_0900_ai_ci',
	`dept` VARCHAR(50) NULL DEFAULT NULL COLLATE 'utf8mb4_0900_ai_ci',
	`deg` VARCHAR(50) NULL DEFAULT NULL COLLATE 'utf8mb4_0900_ai_ci',
	`role` VARCHAR(50) NULL DEFAULT NULL COLLATE 'utf8mb4_0900_ai_ci',
	`gender` VARCHAR(50) NULL DEFAULT NULL COLLATE 'utf8mb4_0900_ai_ci',
	`blood` VARCHAR(50) NULL DEFAULT NULL COLLATE 'utf8mb4_0900_ai_ci',
	`nid` VARCHAR(50) NULL DEFAULT NULL COLLATE 'utf8mb4_0900_ai_ci',
	`contact` VARCHAR(50) NULL DEFAULT NULL COLLATE 'utf8mb4_0900_ai_ci',
	`dob` VARCHAR(50) NULL DEFAULT NULL COLLATE 'utf8mb4_0900_ai_ci',
	`joindate` VARCHAR(50) NULL DEFAULT NULL COLLATE 'utf8mb4_0900_ai_ci',
	`leavedate` VARCHAR(50) NULL DEFAULT NULL COLLATE 'utf8mb4_0900_ai_ci',
	`username` VARCHAR(50) NULL DEFAULT NULL COLLATE 'utf8mb4_0900_ai_ci',
	`email` VARCHAR(50) NULL DEFAULT NULL COLLATE 'utf8mb4_0900_ai_ci'
)
COLLATE='utf8mb4_0900_ai_ci'
ENGINE=InnoDB
;

<div class="modal fade" id="appmodel" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel1">
        <div class="modal-dialog" role="document">
            <div class="modal-content ">
                <div class="modal-header">
                    <h4 class="modal-title" id="exampleModalLabel1">Leave Application</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>
                <form method="post" action="Add_Applications" id="leaveapply" enctype="multipart/form-data">
                    <div class="modal-body">

                        <div class="form-group">
                            <label>Employee</label>
                            <select class=" form-control custom-select selectedEmployeeID" tabindex="1" name="emid" required>
                                <option value="Soy1332">Thom Anderson</option>
                                <option value="Doe1753">Will Williams</option>
                                <option value="Doe1754">John Greenwood</option>
                                <option value="Moo1402">Liam Moore</option>
                                <option value="Rob1472">Stephany Robs</option>
                                <option value="Tho1044">Chris Thompson</option>
                                <option value="Smi1266">Colin Smith</option>
                                <option value="Moo1634">Christine Moore</option>
                                <option value="Joh1474">Michael Johnson</option>
                                <option value="Den1745">Emily Denn</option>
                                <option value="Hoo1237">userID Hoong</option>
                                <option value="Hoo1901">Chow Hoong</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Leave Type</label>
                            <select class="form-control custom-select assignleave" tabindex="1" name="typeid" id="leavetype" required>
                                <option value="">Select Here..</option>

                                <option value="9">Leave without Pay</option>


                                <option value="8">Optional Leave</option>


                                <option value="7">Public Holiday</option>


                                <option value="5">Earned leave</option>


                                <option value="4">Paternal Leave</option>


                                <option value="3">Maternity Leave</option>


                                <option value="2">Sick Leave</option>


                                <option value="1">Casual Leave</option>

                            </select>
                        </div>
                        <div class="form-group">
                            <span style="color:red" id="total"></span>
                            <div class="span pull-right">
                                <button class="btn btn-info fetchLeaveTotal">Fetch Total Leave</button>
                            </div>
                            <br>
                        </div>
                        <div class="form-group">
                            <label class="control-label">Leave Duration</label><br>
                            <input name="type" type="radio" id="radio_1" data-value="Half" class="duration" value="Half Day" checked="">
                            <label for="radio_1">Hourly</label>
                            <input name="type" type="radio" id="radio_2" data-value="Full" class="type" value="Full Day">
                            <label for="radio_2">Full Day</label>
                            <input name="type" type="radio" class="with-gap duration" id="radio_3" data-value="More" value="More than One day">
                            <label for="radio_3">Above a Day</label>
                        </div>
                        <div class="form-group">
                            <label class="control-label" id="hourlyFix">Date</label>
                            <input type="text" name="startdate" class="form-control mydatetimepickerFull" id="recipient-name1" required>
                        </div>
                        <div class="form-group" id="enddate" style="display:none">
                            <label class="control-label">End Date</label>
                            <input type="text" name="enddate" class="form-control mydatetimepickerFull" id="recipient-name1">
                        </div>

                        <div class="form-group" id="hourAmount">
                            <label>Length</label>
                            <select id="hourAmountVal" class=" form-control custom-select" tabindex="1" name="hourAmount" required>
                                <option value="">Select Hour</option>
                                <option value="1">One hour</option>
                                <option value="2">Two hour</option>
                                <option value="3">Three hour</option>
                                <option value="4">Four hour</option>
                                <option value="5">Five hour</option>
                                <option value="6">Six hour</option>
                                <option value="7">Seven hour</option>
                                <option value="8">Eight hour</option>
                            </select>
                        </div>

                        <!--  <div class="form-group" >
                             <label class="control-label">Duration</label>
                             <input type="number" name="duration" class="form-control" id="leaveDuration">
                         </div> -->
                        <div class="form-group">
                            <label class="control-label">Reason</label>
                            <textarea class="form-control" name="reason" id="message-text1"></textarea>
                        </div>

                    </div>
                    <script>
                                $(document).ready(function () {
                                    $('#leaveapply input').on('change', function(e) {
                                        e.preventDefault(e);

                                        // Get the record's ID via attribute
                                        var duration = $('input[name=type]:checked', '#leaveapply').attr('data-value');
                                        console.log(duration);

                                        if(duration =='Half'){
                                            $('#enddate').hide();
                                            $('#hourlyFix').text('Date');
                                            $('#hourAmount').show();
                                        }
                                        else if(duration =='Full'){
                                            $('#enddate').hide();
                                            $('#hourAmount').hide();
                                            $('#hourlyFix').text('Date');
                                        }
                                        else if(duration =='More'){
                                            $('#enddate').show();
                                            $('#hourAmount').hide();
                                        }
                                    });
                                    $('#appmodel').on('hidden.bs.modal', function () {
                                        location.reload();
                                    });
                                });
                    </script>
                    <div class="modal-footer">
                        <input type="hidden" name="id" class="form-control" id="recipient-name1" required>
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-success">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>


*remember set IAM role in EC2
*at github need change the cd same as the respority

Employee: read a list of employee
Attendace: read a list of attendance
Add_employee: add employee
Save_Attendance: employee add attendance

